
@{
    ViewData["Title"] = "GetDemo";
}

<h1>GetDemo</h1>

<div class="alert alert-danger">
    <div id="div1"></div>
</div>

@section Styles{
    <style>

    </style>
}

@section Scripts{
    <script>

        //步驟一 建立Ajax物件
        const xhr = new XMLHttpRequest();
        
        btn.addEventListener('click',()=>{
        //步驟二 對伺服器發出要求(Request)
        //xhr.open("GET", "/Api/Index",false);     false 表示改成同步的執行模式
        xhr.open("GET", "/Api/getDemo?name=Jack&age=10"); 
        xhr.send();

        //步驟三 接收伺服器回傳的資料
        xhr.addEventListener("load", function () {
                const data = xhr.responseText;
                //步驟四 讀資料 JSON/ XML
                //步驟五 顯示資料
                //要找到想要控制的標籤
                document.querySelector('#div1').innerHTML = `<h3>${data}</h3>`;
         })
        })

    </script>
}